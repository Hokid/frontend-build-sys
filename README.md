# frontend-build-sys
    
    working-dir  
    |- build  
       |- css  
       |- html  
       |- img 
       |- js  
       |- fonts 
       |- glyphs  
    |- src  
       |- sass  
       |- html  
       |- img 
       |- js  
       |- fonts 
       |- glyphs  


# working-dir / src

Директория исходников, файлов для сборки.

#### working-dir / src / sass

Директория исходников sass файлов.    

Структура файлов:

    sass
    |- _env/   - * 1
    |- common  - * 2
    |- styles  - * 3
    |- vendors - * 4  
    
Описание пунктов:

1. Сокращенно от environment(окружение). В директории находятся все то, что не появляется в выходном css файле, то есть это те "надбавки" sass-a для css - они только воздействуют на выходной css.
2. Общие стили. Стили, которые сами по себе не компилируется в css, а посредством импорта в проэктных стилях.
3. Стили. Содержат проэктные стили, которые компилируются в css.
4. Сторонний код. К примеру: compass, foundation, bootstrap.

#### working-dir / src / sass / _env

Структура файлов:

    |- _env/
       |- functions/        - * 1
       |- mixins/           - * 2
       |- variables/        - * 3
          |- const          - * 4
          |- settings       - * 5
       |- _env-imports.scss - * 6

Описание пунктов:

1. Функции. В директории распологаются все написанные с помощью sass функции. Для каждой функции свой отдельный файл.
2. Миксины. В директории распологаются все написанный с помощью sass миксины. Для каждого миксина свой отделный файл.
3. Переменные. В директории распологаются различные переменные. Название scss файла с переменными лучше наименовать в соотвествии с котегорией данных, которые они хранят. К примеру, переменные, которые хранят цвета, хранить в файле _colors.scss, переменные, хранящие размеры шрифта, семейство шрифтов и данные, которые относятся и будут подставляться или как-то учавствовать в формировании значение css свойств, влияющих на шрифт, размещать в файле с названием _typography.scss.
4. Константы. Те же самые переменные, но воспринимаются как константы. Подключатся должны в самом начале _env-imports.scss файла и не менят своих значений.
5. Установки. Сборник переменных. Переменны, хрянящиеся в этой директории должны иметь общее назначение, быть абстрактными, не иметь ни какого отношения к конкретным style.scss файлам. Переменны, как было описано в 4 пункте, должны быть разбиты по котегориям.
6. Импорт-файл. В файле прописаны все импорты scss, находящихся в директории _env, и, при необходимости, импорт сторонних библиотек(к примеру compass, который сейчас используется в этом файле). Импорт сторонних библиотек должен быть выполнун аккуратно, чтобы не поломать, испортить, перепесать текущие импорты.

#### working-dir / src / sass / common

Структура файлов:

    |- common/
       |- adjustment/   - * 1
       |- base/         - * 2
       |- blocks/       - * 3
       |- placeholders/ - * 4
       
Описание пунктов:

1. Подгонка/Подстройка/Настройка. Сборник/Библиотека мини-классов, с помощь которых можно быстро настроить вид какого-либо элемента на страничке не прибегая к созданию для этого класса(или чего-то другого) со стилями, когда нужно просто подкоректировать padding, margin, font-size и т.п., грубо говоря, эти классы имеют высокую реюзабельность. Все классы начиются с префикса `a-` (сокр. от adjustment) - так понятней для чего этот класс и где его найти. Все классы имют после префиксов сокращенное названия от css свойства к которуму они относятся, к примеру, если класс называется `a-fz-1-25`, то это значит, что он применять `font-size` со значением 1.25 от базавого значения шрифта, которое по-умолчанию равно 16px(16 * 1.25 = 20). Сокращения имен классов в основном взяты из [Emmet Cheat Sheet](//docs.emmet.io/cheat-sheet/). Базовые значения можно настроить с помощью переменных. Подробней будет описанно ниже.
2. Базовые стили. Стандартные стили для html тэгов, reset, normalize все можно отнести к этой категории.
3. Блоки на сайте. Стили отдельных блоков на сайте(кнопки, формы ввода текста и т.п.). Дожны быть наиболее гибкими, настраиваемыми, реюзабельными, т.к. находятся в категории общие.
4. Sass-е плейсхолдеры.

#### working-dir / src / sass / common / adjustment

Структура файлов:

    |- adjustment/
       |- box/        - * 1
       |- typography/ - * 2
       
Описание пунктов:

1. Стили, относящиеся к настройке, управлением в основном свойствами блочных элементов: `display`, `float`, `position`, `background-color`, `margin`, `padding`, `border` и т.д.
2. Стили, относящиеся к настройке, управлением в основном свойствами инлайновых элементов(шрифта, символов): `color`, `font-size`, `font-family`, `text-decoration`, `text-transform`, `vertical-align` и т.д.

*Создание новых классов в adjustment/*

Если это css свойство, которому не нужно задвать никаких величин(px, em  и т.д.), то добавлять новые классы можно по подобию:

    $a-disp-b-important: false !default; // * 1

    .a-disp-b {

      display: block if($a-disp-b-important, !important, null); // * 2
    }

1. Прописываем переменную, которой будем управлять "важностью" свойства. Именуется переменная по шаблону `{имя-класса}-important`.
2. Прописываем на какое css свойство будет влиять класс, а через `if` делаем проверку переменной, если `true`, то подставляем `!important`.

Если значения css свойства задаются величинами(px, em и т.д.), то для генерации разных значений можно использовать миксин `generate-values`, который находится в `_env/mixins/_generate-values.scss`.
Пример кода:

    @if mixin-exists('generate-values') { // * 1
    
    $a-margin-all-base-val: if($base-line-height, $base-line-height, 24px) !default; // * 2
    $a-margin-all-base-important: false !default; // * 2
    $a-margin-all-step: 1/4 !default; // * 2
    $a-margin-all-count: 24 !default; // * 2
    
    @include generate-values( // *3
      '.a-mrl-{w}{-f}',
       margin-left,
       $a-margin-all-base-val,
       $a-margin-all-step,
       $a-margin-all-count,
       $a-margin-all-base-important
     );
     
     ...
   
    $a-margin-all-loaded: true !global; // *4
    
    }

*(по какому принципу миксин генерирует классы с значения можно почитать в комментариях к мискину в коде)*  
*(чтобы не раздувать код примера, показан код генерации для только для `margin-left`, остальное(`margin-right`, `margin-top` и т.д.) скрыто под "...")*

1. Проверяем наличия нужного миксина для генерации значений, если есть продолжаем формирование класса(ов).
2. Прописываем переменные, которые управляют параметрами для миксина. Именуются переменные почти по такому же принципу как описано выше, но т.к. генерируется не один класс, а их множество для разных свойств, то шаблон для переменных будет выглядеть так: `a-{свойство}-all-{параметр-для миксина}`.
3. Генерируем класс с разными значениями.
4. Задаем глобальную переменую - индикатор того, что генерации прошла успешна(в некоторых случаях может пригодится, но она не обязаетельна). Шаблон именования для такой переменной: `a-{свойство}-all-loaded`.

*Органиция храниния классов в `box/`, `typography/`*

Принцип просто: создаем в в директориях `box/`, `typography/` поддиректорию с названием свойства, где будут содератся относящиеся к нему классы и далее организуем в поддиректории `.scss` файлы.  
Опишу на примерах. Есть свойство `display`, которому можно задавать такие значения, как: `block`, `inline`, `inline-block`, `none`, `table` и т.д.. `display` относится к категории `box`, потому создаем в директории `box/` поддиректорию `display/` - в этой поддиректории создаем `.scss` файлы c названиями значений, которые может принимать `display`, то есть: `_block.scss`, `_inline.scss`, `_inline-block.scss`, `_none.scss` и т.д., размещаем в них код классов, все. Можно организовать по др. принципу: создать в `display/` файл `_all.scs` - где будет содержатся код всех классов - так в основном делается для классов, которые генерируются с помощью миксина(как в примере с `margin-left`), но можно так делать и в этом случае, каких-либо ограничений нет, кому как удобно и в зависимости от количества значений, которое принимает свойство - если их много, 10+ к примеру, то лучше всего будет разделить на отдельные файлы, чем размещать все в `_all.scs`.

### Как прописывать пути в @import директиве

Импорт файлов в `@import` директиве делится на два способа:

1. импорт файлов относительно глобально-заданных директорий.
2. импорт фалов относительно текущего файла в котором применятеся @import директива.

**1 способ**. Глобально-заданные директории - директории, пути до которых прописаны в настройках компилятора sass(в данном случае используется compass компилятор). То есть в настройках compass-а задается путь до директории с scss-файлами - это директори и будет считаться глобально-заданной, заданной через `sass_dir` в настройках compass. Так же можно задавать глобально свои директории, для этого в compass есть `add_import_path`. В плагинах к gulp `sass_dir`, `add_import_path` могут иметь др. вид, к примеру, в плагине [gulp-compass](//www.npmjs.com/package/gulp-compass) путь до sass директории задается присваеванием объекту настроек компилятора в свойство sass строки, содержащей путь до sass директории, дополнительные глобально-заданные директории добавляются в массив `import_path` в том же объекте настроек компилятора.
Импортировать какой-либо файл из глобально-заданной директории можно прописав в `@import` директиве путь до файла, относительно этой директивы. У нас есть в глобально-заданные директории: sass(наши scss файлы), compass(scss файлы сторонней библиотеки). Например, надо импортировать из sass диретории файл `_env-imports.scss` и из директории _env и файл `_css3.scss` из compass:

    @import "_env/env-imports";
    @import "compass/css3";

То есть просто прописыватся путь до файла относительно глобально-заданной директории.

**2 способ**. Путь до какого-либо файла задается относительно текущего scss-файла, в котором применятеся директива `@import` c префиксом в начале пути - "./". Можно задавать пути до файлов, как и в 1 способе и они будут подключатся, но так делать не надо - различить, где путь прописан от глобально-заданной, а где от текущего файла не возможно - для таких случаех и нужен этот префикс.
Пример:

    @import "./{путь до файла}";

#working-dir -> build
